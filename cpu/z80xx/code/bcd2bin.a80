;Program to convert BCD to binary (8-bit)

.org 0
	lda bcd		;load the bcd number
	call bcd2bin
	sta bin
	hlt
bcd:	db 99h
bin:	db 00h

; Input  A in BCD format
; Output A in binary format
; destroys BC
; no checks if BCD is valid
bcd2bin: mov b,a
	ani 0f0h	; tens bcd part
	jz less10
	rlc		; convert to tens and keep it in "c"
	rlc
	rlc
	rlc	
	mov c,a
	mov a,b
	ani 0fh         ; units
	mvi b,0ah	; do tens x 10 
loop1:	add b
	dcr c
	jnz loop1
	ret
less10:	mov a,b
	ret

